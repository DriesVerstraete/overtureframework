# See the Readme file for instructions
# Here is the executable:
CGBUILDPREFIX/ins/bin/cgins
# here is the name of the check file
ins.check
# -- to test one or more cases, put them here followed by "exit"
# box.ins
# exit
# 
square.ins
sis.ins
cic.ins
cilc.ins   # real run 
cic.ss     # steady state line solver test 
hgrid
cicMove
#
# -- order=4, explicit time-stepping, poly degree=(4,3), exact: 
#
sq4e.check ../cmd/tz.cmd -g=square10.order4 -degreex=4 -degreet=3 -ts=pc4 -useNewImp=0 -bcn=noSlip -bc1=inflow -bc2=outflow -tp=.05 -tf=.05 -go=go
box4e.check ../cmd/tz.cmd -g=box10.order4 -degreex=4 -degreet=3 -ts=pc4 -useNewImp=0 -bcn=noSlip -bc1=inflow -bc2=outflow -tp=.05 -tf=.05 -go=go
#
# -- order=4, implicit time-stepping, poly degree=(4,1), exact: 
#
sq4i.check ../cmd/tz.cmd -g=square10.order4 -degreex=4 -degreet=1 -ts=im -iv=oldViscous -bcn=noSlip -bc1=inflow -bc2=outflow -tp=.05 -tf=.05 -go=go
box4i.check ../cmd/tz.cmd -g=box10.order4 -degreex=4 -degreet=1 -ts=im -iv=oldViscous -bcn=noSlip -bc1=inflow -bc2=outflow -tp=.05 -tf=.05 -go=go
#
# moving grids + explicit: (should be exact)
slider.check ../cmd/slider.cmd -g=slideri1.order2.hdf -nu=.05 -tf=.05 -tp=.025 -ts="adams PC" -tz=poly -degreex=1 -degreet=1 -vShift=5. -go=go 
# moving grids + implicit: (should be exact)
sliderImp.check ../cmd/slider.cmd -g=slideri1.order2.hdf -nu=.05 -tf=.05 -tp=.025 -impGrids="all=implicit" -tz=poly -degreex=1 -degreet=1 -vShift=5. -go=go 
# moving grids + semi-implicit: (should be exact)
sliderSemiImp.check ../cmd/slider.cmd -g=slideri1.order2.hdf -nu=.05 -tf=.05 -tp=.025 -tz=poly -degreex=1 -degreet=1 -vShift=5. -go=go 
# -- 3D tests --
box.ins
bib.ins    # box in a box
sib.ins
# Here are tests of the axisymmetric option: 
axisymINS.check axisym.cmd -g=shortHalfCylinder.hdf -nu=.1 -tf=.2 -tp=.1 -model=ins -tz=trig -project=0 -go=go
axisymBous.check axisym.cmd -g=shortHalfCylinder.hdf -nu=.1 -tf=.2 -tp=.1 -model=boussinesq -tz=trig -project=0 -go=go
axisymBousImp.check axisym.cmd -g=shortHalfCylinder.hdf -nu=.1 -tf=.2 -tp=.1 -dtMax=.05 -model=boussinesq -tz=trig -project=0 -go=go -ts=implicit
# Here are some tz tests for the approximate factorization scheme
tzAFS2Dp.check ../cmd/tz.cmd -boxorder=4 -grid_order=4 -order=4 -g=ogen -gf=square --N=21 --nx=21 -degreex=1 -degreet=0 -ts=afs -tz=trig -newts=1 -debug=0 --boxbc=p --squarebc=periodic -bcn="*" -fx=2 -fy=2 -fz=2 -ft=2 -advectionCoefficient=1 -nu=0.1 -tf=.2 -go=run -tp=.1 -dtMax=.1 -do=compact
tzAFS2Dd.check ../cmd/tz.cmd --boxorder=4 -grid_order=4 -order=4 -g=ogen -gf=square --N=21 --nx=21 -degreex=1 -degreet=0 -ts=afs -tz=trig -newts=1 -debug=0 --boxbc=d --squarebc= -bcn="*" -fx=2 -fy=2 -fz=2 -ft=2 -advectionCoefficient=1 -nu=0.1 -tf=.2 -go=run -tp=.1 -dtMax=.1 -do=compact
tzAFS2Dd.annulus.check ../cmd/tz.cmd  --grid_factor=2 --boxorder=4 -grid_order=4 -order=4 -g=ogen -gf=annulus --N=41 --nx=41 -degreex=1 -degreet=0 -ts=afs -tz=trig -newts=1 -debug=0 --boxbc=d --squarebc= -bcn="*" -fx=2 -fy=2 -fz=2 -ft=1 -advectionCoefficient=1 -nu=1e-2 -tf=.2 -go=run -tp=.1 -dtMax=.1 -do=compact
tzAFS3Dp.check ../cmd/tz.cmd --boxorder=4 -grid_order=4 -order=4 -g=ogen -gf=box --N=20 --nx=20 -degreex=1 -degreet=0 -ts=afs -tz=trig -newts=1 -debug=0 --boxbc=p --squarebc=periodic -bcn="*" -fx=2 -fy=2 -fz=2 -ft=2 -advectionCoefficient=1 -nu=0.1 -tf=.2 -go=run -tp=.1 -dtMax=.1 -do=compact -psolver=best
tzAFS3Dd.check ../cmd/tz.cmd --boxorder=4 -grid_order=4 -order=4 -g=ogen -gf=box --N=20 --nx=20 -degreex=1 -degreet=0 -ts=afs -tz=trig -newts=1 -debug=0 --boxbc=d --squarebc= -bcn="*" -fx=2 -fy=2 -fz=2 -ft=2 -advectionCoefficient=1 -nu=0.1 -tf=.2 -go=run -tp=.1 -dtMax=.1 -do=compact -psolver=best
tzAFS3Dd.cylinder.check ../cmd/tz.cmd --grid_factor=1 --boxorder=4 -grid_order=4 -order=4 -g=ogen -gf=cylinder --N=11 --nx=11 -degreex=1 -degreet=0 -ts=afs -tz=trig -newts=1 -debug=0 --boxbc=d --squarebc= -bcn="*" -fx=2 -fy=2 -fz=2 -ft=1 -advectionCoefficient=1 -nu=1e-2 -tf=.1 -go=run -tp=.1 -dtMax=.1 -do=compact
tzAFS3DdBous.check ../cmd/tz.cmd --boxorder=4 -grid_order=4 -order=2 -g=ogen -gf=box --N=20 --nx=20 -degreex=1 -degreet=0 -ts=afs -tz=trig -newts=1 -debug=0 --boxbc=d --squarebc= -bcn="*" -fx=2 -fy=2 -fz=2 -ft=2 -advectionCoefficient=1 -nu=0.01 -tf=.2 -go=run -tp=.1 -dtMax=.1 -do=compact -psolver=best -model=boussinesq -kThermal=.01
tzAFS3DdBous.cylinder.check ../cmd/tz.cmd --grid_factor=1 --boxorder=4 -grid_order=4 -order=2 -g=ogen -gf=cylinder --N=11 --nx=11 -degreex=1 -degreet=0 -ts=afs -tz=trig -newts=1 -debug=0 --boxbc=d --squarebc= -bcn="*" -fx=2 -fy=2 -fz=2 -ft=1 -advectionCoefficient=1 -nu=1e-2 -tf=.1 -go=run -tp=.1 -dtMax=.1 -do=compact -model=boussinesq -kThermal=.01
tzAFS2Dd.cic.4.check ../cmd/tz.cmd -g=cic.4 -nu=1e-2 -tf=.1 -dtMax=0.02 -model=ins -ts=afs -go=run -tz=trig 
tzAFS2DdBous.cic.4.check ../cmd/tz.cmd -g=cic.4 -nu=1e-2 -tf=.1 -dtMax=0.02 -model=boussinesq -ts=afs -go=run -tz=trig 
tzAFS2Dd.cic.move.check ../cmd/tz.cmd -g=cic -nu=1e-2 -tf=.06 -dtMax=0.02 -model=ins -ts=afs -go=run -tz=trig -move=shift -gridToMove=Annulus
tzAFS2DdBous.cic.move.check ../cmd/tz.cmd -g=cic -nu=1e-2 -tf=.06 -dtMax=0.02 -model=boussinesq -ts=afs -go=run -tz=trig -move=shift -gridToMove=Annulus
tzAFS2DnoSlip.cic.move.check ../cmd/tz.cmd -g=cic -bcn="all=noSlipWall" -nu=1e-2 -tf=.1 -dtMax=0.02 -model=ins -ts=afs -go=run -tz=trig -move=shift -gridToMove=Annulus
#tzAFS2DnoSlipBous.cic.move.check ../cmd/tz.cmd -g=cic -bcn="all=noSlipWall" -nu=1e-2 -tf=.06 -dtMax=0.02 -model=boussinesq -ts=afs -go=run -tz=trig -move=shift -gridToMove=Annulus
tzAFS2Dd.cic.4.move.check ../cmd/tz.cmd -g=cic.4 -nu=1e-2 -tf=.06 -dtMax=0.02 -model=ins -ts=afs -go=run -tz=trig -move=shift -gridToMove=Annulus
tzAFS2DdBous.cic.4.move.check ../cmd/tz.cmd -g=cic.4 -nu=1e-2 -tf=.06 -dtMax=0.02 -model=boussinesq -ts=afs -go=run -tz=trig -move=shift -gridToMove=Annulus
tzAFS2Dpenalty.cic.check ../cmd/tz.cmd -g=cic -nu=1e-2 -tf=.2 -dtMax=0.01 -model=ins -ts=afs -go=run -tz=trig -bcn=penaltySlip -bc1="square(0,0)=noSlipWall" -bc2="square(1,0)=noSlipWall"  
#
# nonlinear beam:
turek_hron_fsi2.check ../runs/TurekHronFSI2/turek_hron_fsi2_run.cmd -g=turek_hron_fsi2e2.hdf -tf=2e-3 -tp=1e-3 -cfl=.5 -go=go
